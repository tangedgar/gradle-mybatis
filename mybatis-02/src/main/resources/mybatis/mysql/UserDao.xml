<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tanghui02.dao.UserMapper">
    <!-- 查询人员信息 -->
    <parameterMap type="java.util.Map" id="queryUserInfoMap">
        <parameter javaType="java.lang.Integer" property="code" mode="OUT" jdbcType="INTEGER"/>
        <parameter javaType="java.lang.String" property="info" mode="OUT" jdbcType="VARCHAR"/>
        <parameter property="userid" mode="IN" jdbcType="INTEGER"/>
    </parameterMap>
    <resultMap id="queryUserInfoResult" type="com.tanghui02.mode.User">
        <result column="id" javaType="int" property="id" jdbcType="INTEGER"/>
        <result column="name" javaType="java.lang.String" property="name" jdbcType="VARCHAR"/>
        <result column="pwd" javaType="java.lang.String" property="pwd" jdbcType="VARCHAR"/>
    </resultMap>
    <select id="queryUserInfoBase" statementType="CALLABLE" parameterMap="queryUserInfoMap" resultMap="queryUserInfoResult">
        CALL queryuser(?,?,?)
    </select>

    <!-- 添加人员信息 -->
    <parameterMap type="java.util.Map" id="addUserInfoMap">
        <parameter javaType="java.lang.Integer" property="code" mode="OUT" jdbcType="INTEGER"/>
        <parameter javaType="java.lang.String" property="info" mode="OUT" jdbcType="VARCHAR"/>
        <parameter property="userid" mode="IN" jdbcType="INTEGER"/>
        <parameter javaType="java.lang.String" property="username" mode="IN" jdbcType="VARCHAR"/>
        <parameter javaType="java.lang.String" property="password" mode="IN" jdbcType="VARCHAR"/>
    </parameterMap>
    <insert id="addUserInfoBase" statementType="CALLABLE" parameterMap="addUserInfoMap">
        CALL adduser(?,?,?,?,?)
    </insert>

    <!-- 修改人员信息 -->
    <parameterMap type="java.util.Map" id="updateUserInfoMap">
        <parameter javaType="java.lang.Integer" property="code" mode="OUT" jdbcType="INTEGER"/>
        <parameter javaType="java.lang.String" property="info" mode="OUT" jdbcType="VARCHAR"/>
        <parameter property="userid" mode="IN" jdbcType="INTEGER"/>
        <parameter javaType="java.lang.String" property="username" mode="IN" jdbcType="VARCHAR"/>
        <parameter javaType="java.lang.String" property="password" mode="IN" jdbcType="VARCHAR"/>
    </parameterMap>
    <update id="updateUserInfoBase" statementType="CALLABLE" parameterMap="updateUserInfoMap">
        CALL updateuser(?,?,?,?,?)
    </update>

    <!-- 删除人员信息 -->
    <parameterMap type="java.util.Map" id="deleteUserInfoMap">
        <parameter javaType="java.lang.Integer" property="code" mode="OUT" jdbcType="INTEGER"/>
        <parameter javaType="java.lang.String" property="info" mode="OUT" jdbcType="VARCHAR"/>
        <parameter property="userid" mode="IN" jdbcType="INTEGER"/>
    </parameterMap>
    <delete id="deleteUserInfoBase" statementType="CALLABLE" parameterMap="deleteUserInfoMap">
        CALL deleteuser(?,?,?)
    </delete>
</mapper>